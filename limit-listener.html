<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Screen Time Limit Listener</title>
</head>
<body>
  <h2>🧒 Screen Time Limit Listener</h2>
  <div id="status">Connecting...</div>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script>
    const socket = io("https://safeview-backend.onrender.com"); // Change if your backend runs on a different port

    const childDeviceId = "child-child-q9878";

    socket.on("connect", () => {
      document.getElementById("status").innerText = "✅ Connected to server";
      console.log("Connected to server");
      socket.emit("join", childDeviceId);
    });

    socket.on("limitReached", (data) => {
      console.log("⏰ Limit Reached:", data.message);
      alert("⏰ " + data.message);
      document.getElementById("status").innerText = "⛔ Limit Reached!";
    });
  </script>
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Activity Log Listener</title>
</head>
<!-- <body>
  <h2>📺 Activity Log Listener</h2>
  <div id="status">Connecting...</div>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script>
    // const socket = io("https://safeview-backend.onrender.com");
    const socket = io("http://localhost:3000");

    const childDeviceId = "child-child-q9878";

    socket.on("connect", () => {
      console.log("✅ Connected to server");
      document.getElementById("status").innerText = "✅ Connected";
      socket.emit("join", childDeviceId);
    });

    socket.on("activityLogged", (data) => {
      console.log("📥 Activity Logged:", data);
      alert(`🎥 Video Logged: ${data.title}`);
    });

    socket.on("disconnect", () => {
      document.getElementById("status").innerText = "❌ Disconnected";
    });
  </script>
</body> -->
<body>
  <h2>📺 Activity Log Listener</h2>
  <div id="status">Connecting...</div>
  <div id="time">⏳ Remaining Time: --</div>

  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script>
    // const socket = io("https://safeview-backend.onrender.com");
    const socket = io("http://localhost:3000");

    const childDeviceId = "child-123";

    socket.on("connect", () => {
      console.log("✅ Connected to server");
      document.getElementById("status").innerText = "✅ Connected";
      socket.emit("join", childDeviceId);
    });

    socket.on("activityLogged", (data) => {
      console.log("📥 Activity Logged:", data);
      alert(`🎥 Video Logged: ${data.title}`);
    });

    socket.on("screenTime", (data) => {
      console.log("⏳ Remaining Time:", data.remaining);
      document.getElementById("time").innerText = `⏳ Remaining Time: ${data.remaining}s`;
    });

    socket.on("disconnect", () => {
      document.getElementById("status").innerText = "❌ Disconnected";
    });
  </script>
</body> 
</html>


<!-- <!DOCTYPE html>
<html>
  <head>
    <title>👶 AI Buddy Socket Test</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      #output {
        white-space: pre-wrap;
        background: #f4f4f4;
        padding: 12px;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h3>👶 AI Buddy:</h3>
    <pre id="output">Waiting for response...</pre>

    <script>
      const socket = io("http://localhost:3000");
      const output = document.getElementById("output");
      const deviceId = "test-child-device"; // any test room

      socket.on("connect", () => {
        console.log("✅ Connected:", socket.id);
        output.textContent = "";

        socket.emit("join", deviceId);
        socket.emit("chatbot-message", {
          deviceId,
          message: "Why do stars shine?",
        });
      });

      socket.on("chatbot-token", (data) => {
        output.textContent += data.token;
      });

      socket.on("chatbot-end", () => {
        output.textContent += "\n\n✅ Done!";
      });

      socket.on("chatbot-error", (data) => {
        output.textContent += "\n❌ Error: " + data.error;
      });

      socket.on("disconnect", () => {
        console.log("🔴 Disconnected");
      });
    </script>
  </body>
</html> -->


<!-- 
<body>
  <h2>📺 Activity Log Listener</h2>
  <div id="status">Connecting...</div>
  <div id="time">⏳ Remaining Time: --</div>

  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script>
    // const socket = io("https://safeview-backend.onrender.com");
    const socket = io("http://localhost:3000");

    const childDeviceId = "child-123";

    socket.on("connect", () => {
      console.log("✅ Connected to server");
      document.getElementById("status").innerText = "✅ Connected";
      socket.emit("join", childDeviceId);
    });

    socket.on("activityLogged", (data) => {
      console.log("📥 Activity Logged:", data);
      alert(`🎥 Video Logged: ${data.title}`);
    });

    socket.on("screenTime", (data) => {
      console.log("⏳ Remaining Time:", data.remaining);
      document.getElementById("time").innerText = `⏳ Remaining Time: ${data.remaining}s`;
    });

    socket.on("disconnect", () => {
      document.getElementById("status").innerText = "❌ Disconnected";
    });
  </script>
</body> -->